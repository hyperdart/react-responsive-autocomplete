{"version":3,"file":"index.modern.js","sources":["../src/muiWrapper.js","../src/index.js"],"sourcesContent":["let Autocomplete, Popper, TextField, IconButton, Paper, useMediaQuery,useTheme, ArrowBack, grey;\r\n\r\ntry {\r\n  // Try MUI v5/v6\r\n  Autocomplete = require('@mui/material/Autocomplete').default;\r\n  Popper = require('@mui/material/Popper').default;\r\n  TextField = require('@mui/material/TextField').default;\r\n  IconButton = require('@mui/material/IconButton').default;\r\n  Paper = require('@mui/material/Paper').default;\r\n  useMediaQuery=require('@mui/material/useMediaQuery').default;\r\n  useTheme = require('@mui/material/styles').useTheme;\r\n  ArrowBack = require('@mui/icons-material/ArrowBack').default;\r\n  grey = require('@mui/material/colors').grey;\r\n} catch {\r\n  // Fallback to MUI v4\r\n  console.log(\"in catch block\")\r\n//   Autocomplete = require('@material-ui/lab/Autocomplete').default;\r\n//   Popper = require('@material-ui/core/Popper').default;\r\n//   TextField = require('@material-ui/core/TextField').default;\r\n//   IconButton = require('@material-ui/core/IconButton').default;\r\n//   Paper = require('@material-ui/core/Paper').default;\r\n//   useMediaQuery=require('@material-ui/core/useMediaQuery').default;\r\n//   useTheme = require('@material-ui/core/styles').useTheme;\r\n//   ArrowBack = require('@material-ui/icons/ArrowBack').default;\r\n//   grey = require('@material-ui/core/colors').grey;\r\n}\r\n\r\nexport {\r\n  Autocomplete,\r\n  Popper,\r\n  TextField,\r\n  IconButton,\r\n  Paper,\r\n  useMediaQuery,\r\n  useTheme,\r\n  ArrowBack,\r\n  grey,\r\n};","import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  IconButton,\r\n  Paper,\r\n  Popper,\r\n  TextField,\r\n  useMediaQuery,\r\n  Autocomplete,\r\n  useTheme,\r\n  ArrowBack,\r\n  grey\r\n} from \"./muiWrapper\";\r\n\r\nconst ResponsiveAutocomplete = (props) => {\r\n  const [isFocused, setIsFocused] = useState(false);\r\n  const {\r\n    mobileDivClassName,\r\n    backButtonClassName,\r\n    className,\r\n    PaperComponent,\r\n    PopperComponent,\r\n    ...autocompleteProps\r\n  } = props;\r\n\r\n  const theme = useTheme();\r\n  const isMobile = !useMediaQuery(theme.breakpoints.up(\"sm\"));\r\n\r\n  useEffect(() => {\r\n    if (isFocused && isMobile) {\r\n      document.body.style.overflow = 'hidden';\r\n      document.documentElement.style.overflow = 'hidden';\r\n      document.body.style.position = 'fixed';            \r\n      document.body.style.width = '100%';                 \r\n    } else {\r\n      document.body.style.overflow = '';\r\n      document.documentElement.style.overflow = '';\r\n      document.body.style.position = '';\r\n      document.body.style.width = '';\r\n    }\r\n  }, [isFocused, isMobile]);\r\n\r\n  const handleFocus = (e) => {\r\n    setIsFocused(true);\r\n    props.onFocus && props.onFocus(e);\r\n  };\r\n\r\n  const handleClose = (...args) => {\r\n    setIsFocused(false);\r\n    props.onClose && props.onClose(...args);\r\n  };\r\n\r\n  const wrappedRenderInput = (params) => {\r\n    const inputElement = props.renderInput ? (\r\n      props.renderInput(params)\r\n    ) : (\r\n      <TextField {...params} label=\"Search\" variant=\"outlined\" />\r\n    );\r\n\r\n    return React.cloneElement(inputElement, {\r\n      ...inputElement.props,\r\n      autoFocus: isFocused,\r\n    });\r\n  };\r\n\r\n  const focusedWrapperStyle = {\r\n    position: \"fixed\",\r\n    top: 0,\r\n    left: 0,\r\n    width: \"100%\",\r\n    padding: '16px 12px 16px 0px',\r\n    background: theme.palette.background.paper,\r\n    zIndex: 1300,\r\n    boxShadow: \"0 2px 8px rgba(0,0,0,0.2)\",\r\n    height: \"100vh\",\r\n    maxWidth: \"100%\",\r\n    display: \"flex\",\r\n    justifyContent: \"flex-start\",\r\n  };\r\n\r\n  const backButtonStyle = {\r\n    alignSelf: \"flex-start\",\r\n    marginBottom: '18px',\r\n  };\r\n\r\n  const paperStyle = {\r\n    boxShadow: 'none',\r\n    width: '100vw',\r\n    left: 0,\r\n    borderTop: `1.5px solid ${grey[400]}`,\r\n    borderRadius: 0,\r\n    marginTop: theme.spacing(1),\r\n  };\r\n\r\n  const popperStyle = {\r\n    width: '101vw',\r\n    left: 0,\r\n    right: 0,\r\n    overflow: 'hidden',\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={isFocused && isMobile ? focusedWrapperStyle : {}}\r\n\r\n    >\r\n      {isFocused && isMobile && (\r\n        <IconButton\r\n          className={backButtonClassName || \"\"}\r\n          style={backButtonStyle}\r\n          onClick={() => setIsFocused(false)}\r\n        >\r\n          <ArrowBack />\r\n        </IconButton>\r\n      )}\r\n      <Autocomplete\r\n        {...autocompleteProps}\r\n        onFocus={handleFocus}\r\n        onClose={handleClose}\r\n        openOnFocus\r\n        PaperComponent={isMobile && isFocused&&!PaperComponent ? (props) => (\r\n          <Paper {...props} style={{ ...props.style, ...paperStyle }} />\r\n        ) : PaperComponent}\r\n        PopperComponent={isMobile && isFocused&& !PopperComponent ? (props) => (\r\n          <Popper {...props} style={{ ...props.style, ...popperStyle }} />\r\n        ) : PopperComponent}\r\n        blurOnSelect={isMobile ? true : props.blurOnSelect}\r\n        renderInput={isMobile ? wrappedRenderInput : props.renderInput}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ResponsiveAutocomplete;\r\n"],"names":["Autocomplete","Popper","TextField","IconButton","Paper","useMediaQuery","useTheme","ArrowBack","grey","require","default","console","log","ResponsiveAutocomplete","props","isFocused","setIsFocused","useState","mobileDivClassName","backButtonClassName","className","PaperComponent","PopperComponent","autocompleteProps","theme","isMobile","breakpoints","up","useEffect","document","body","style","overflow","documentElement","position","width","focusedWrapperStyle","top","left","padding","background","palette","paper","zIndex","boxShadow","height","maxWidth","display","justifyContent","paperStyle","borderTop","borderRadius","marginTop","spacing","popperStyle","right","React","createElement","alignSelf","marginBottom","onClick","_extends","onFocus","e","onClose","handleClose","args","openOnFocus","blurOnSelect","renderInput","params","inputElement","label","variant","cloneElement","autoFocus"],"mappings":"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"}