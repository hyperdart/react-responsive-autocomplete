{"version":3,"file":"index.modern.js","sources":["../src/autocomplete.js","../src/autocomplete-v4.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Autocomplete,\r\n  IconButton,\r\n  TextField,\r\n  useMediaQuery,\r\n  useTheme,\r\n  Box,\r\n} from \"@mui/material\";\r\nimport ArrowBackIcon from \"@mui/icons-material/ArrowBack\";\r\nimport { grey } from \"@mui/material/colors\";\r\n\r\nconst ResponsiveAutocomplete = (props) => {\r\n  const [isFocused, setIsFocused] = useState(false);\r\n\r\n  const {\r\n    mobileFocusedSx,\r\n    mobileBackgroundClassName,\r\n    backButtonSx,\r\n    backButtonClassName,\r\n    renderInput,\r\n    onFocus,\r\n    onClose,\r\n    slotProps = {},\r\n    ...autocompleteProps\r\n  } = props;\r\n\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"sm\"));\r\n  const isMobileFocused = isFocused && isMobile;\r\n\r\n  useEffect(() => {\r\n    if (isMobileFocused) {\r\n      document.body.style.overflow = \"hidden\";\r\n      document.documentElement.style.overflow = \"hidden\";\r\n      document.body.style.position = \"fixed\";\r\n      document.body.style.width = \"100%\";\r\n    } else {\r\n      document.body.style.overflow = \"\";\r\n      document.documentElement.style.overflow = \"\";\r\n      document.body.style.position = \"\";\r\n      document.body.style.width = \"\";\r\n    }\r\n  }, [isMobileFocused]);\r\n\r\n  const handleFocus = (e) => {\r\n    setIsFocused(true);\r\n    onFocus && onFocus(e);\r\n  };\r\n\r\n  const handleClose = (...args) => {\r\n    setIsFocused(false);\r\n    onClose && onClose(...args);\r\n  };\r\n\r\n  const wrappedRenderInput = (params) => {\r\n    const inputElement = renderInput ? (\r\n      renderInput(params)\r\n    ) : (\r\n      <TextField {...params} label=\"Search\" variant=\"outlined\" />\r\n    );\r\n\r\n    return React.cloneElement(inputElement, {\r\n      ...inputElement.props,\r\n      autoFocus: isFocused,\r\n     \r\n    });\r\n  };\r\n\r\n  return (\r\n    <Box\r\n      className={isMobileFocused ? mobileBackgroundClassName : undefined}\r\n      sx={{\r\n        ...(isMobileFocused\r\n          ? {\r\n              position: \"fixed\",\r\n              top: 0,\r\n              left: 0,\r\n              width: \"100%\",\r\n              padding: \"16px 12px 16px 0px\",\r\n              background: theme.palette.background.paper,\r\n              zIndex: 1300,\r\n              boxShadow: \"0 2px 8px rgba(0,0,0,0.2)\",\r\n              height: \"100vh\",\r\n              maxWidth: \"-webkit-fill-available\",\r\n              display: \"flex\",\r\n              justifyContent: \"flex-start\",\r\n              flexDirection: \"row\",\r\n            }\r\n          : {\r\n              position: \"relative\",\r\n            }),\r\n        ...(mobileFocusedSx || {}),\r\n      }}\r\n    >\r\n      {isMobileFocused && (\r\n        <IconButton\r\n          className={backButtonClassName}\r\n          sx={{\r\n            alignSelf: \"flex-start\",\r\n            marginBottom: \"18px\",\r\n            ...(backButtonSx || {}),\r\n          }}\r\n          onClick={handleClose}\r\n        >\r\n          <ArrowBackIcon />\r\n        </IconButton>\r\n      )}\r\n\r\n      <Autocomplete\r\n        {...autocompleteProps}\r\n        onFocus= {handleFocus}\r\n        onClose={handleClose}\r\n        slotProps={{\r\n          paper: {\r\n            sx: {\r\n              ...(isMobileFocused\r\n                ? {\r\n                    boxShadow: \"none\",\r\n                    width: \"100vw\",\r\n                    left: 0,\r\n                    borderTop: `1.5px solid ${grey[400]}`,\r\n                    borderRadius: 0,\r\n                    mt: 1,\r\n                  }\r\n                : {}),\r\n              ...(slotProps?.paper?.sx || {}),\r\n            },\r\n            ...slotProps?.paper,\r\n          },\r\n          popper: {\r\n            sx: {\r\n              ...(isMobileFocused\r\n                ? {\r\n                    width: \"101vw !important\",\r\n                    left: \"0 !important\",\r\n                    right: \"0 !important\",\r\n                    overflow: \"hidden\",\r\n                  }\r\n                : {}),\r\n              ...(slotProps?.popper?.sx || {}),\r\n            },\r\n            ...slotProps?.popper,\r\n          },\r\n          ...slotProps,\r\n        }}\r\n        openOnFocus\r\n        blurOnSelect={isMobile ? true : props.blurOnSelect}\r\n        renderInput={isMobile ? wrappedRenderInput : renderInput}\r\n      />\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default ResponsiveAutocomplete;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Autocomplete } from \"@material-ui/lab\";\r\nimport {\r\n  IconButton,\r\n  TextField,\r\n  useMediaQuery,\r\n} from \"@material-ui/core\";\r\nimport { useTheme, withStyles } from \"@material-ui/core/styles\";\r\nimport { ArrowBack } from \"@material-ui/icons\";\r\nimport { grey } from \"@material-ui/core/colors\";\r\n\r\nconst styles =(theme)=>( {\r\n  wrapper: {\r\n    position: \"relative\",\r\n  },\r\n  focused: {\r\n    position: \"fixed\",\r\n    top: 0,\r\n    left: 0,\r\n    width: \"100%\",\r\n    padding: '16px 12px 16px 0px',\r\n    background: theme.palette.background.paper,\r\n    zIndex: 1300,\r\n    boxShadow: \"0 2px 8px rgba(0,0,0,0.2)\",\r\n    height: \"100vh\",\r\n    maxWidth: \"-webkit-fill-available\",\r\n    display: \"flex\",\r\n    justifyContent: \"flex-start\",\r\n  },\r\n  backButton: {\r\n    alignSelf: \"flex-start\",\r\n    marginBottom: '18px',\r\n  },\r\n  paper: {\r\n    boxShadow: 'none',            \r\n    width: '100vw !important',                \r\n    left: '0 !important', \r\n    borderTop: `1.5px solid ${grey[400]}`,\r\n    borderRadius:0,\r\n    marginTop: theme.spacing(1),   \r\n  },\r\n  popper: {\r\n    width: '101vw !important',\r\n  left: '0 !important', \r\n  right: '0 !important',\r\n    overflow:'hidden'     \r\n  },\r\n});\r\n\r\nconst ResponsiveAutocomplete = (props) => {\r\n  const [isFocused, setIsFocused] = useState(false);\r\n  const { classes,mobileBackgroundClassName,backButtonClassName,  renderInput,\r\n    onFocus,\r\n    onClose, ...autocompleteProps } = props;\r\n  const theme = useTheme();\r\n  const isMobile = useMediaQuery(theme.breakpoints.down(\"xs\"));\r\n\r\n  useEffect(() => {\r\n    if (isFocused && isMobile) {\r\n      document.body.style.overflow = 'hidden';\r\n      document.documentElement.style.overflow = 'hidden';\r\n      document.body.style.position = 'fixed';            \r\n      document.body.style.width = '100%';                 \r\n    } else {\r\n      document.body.style.overflow = '';\r\n      document.documentElement.style.overflow = '';\r\n      document.body.style.position = '';\r\n      document.body.style.width = '';\r\n    }\r\n  }, [isFocused, isMobile]);\r\n\r\n  const handleFocus = (e) => {\r\n    setIsFocused(true);\r\n    props.onFocus && props.onFocus(e);\r\n  };\r\n\r\n  const handleClose = (...args) => {\r\n    setIsFocused(false);\r\n    props.onClose && props.onClose(...args);\r\n  };\r\n  \r\n  const wrappedRenderInput = (params) => {\r\n    const inputElement = props.renderInput ? (\r\n      props.renderInput(params)\r\n    ) : (\r\n      <TextField {...params} label=\"Search\" variant=\"outlined\" />\r\n    );\r\n\r\n    return React.cloneElement(inputElement, {\r\n      ...inputElement.props,\r\n      autoFocus: isFocused,\r\n    });\r\n  };\r\n\r\n\r\n  return (\r\n    <div className={isFocused && isMobile ? `${classes.focused} ${mobileBackgroundClassName || ''}` : classes.wrapper}>\r\n      {isFocused && isMobile && (\r\n        <IconButton  className={`${classes.backButton} ${backButtonClassName || ''}`}>\r\n          <ArrowBack />\r\n        </IconButton>\r\n      )}\r\n      <Autocomplete\r\n        {...autocompleteProps}\r\n        onFocus={handleFocus}\r\n        onClose={handleClose}\r\n        openOnFocus\r\n        classes={{\r\n          ...(autocompleteProps.classes || {}),\r\n          ...(isFocused && isMobile ? { \r\n            paper: `${autocompleteProps.classes?.paper || ''} ${classes.paper}`.trim(),\r\n            popper: `${autocompleteProps.classes?.popper || ''} ${classes.popper}`.trim(),\r\n          } : {}),\r\n        }}\r\n        blurOnSelect={isMobile?true:props.blurOnSelect}\r\n        renderInput={isMobile ? wrappedRenderInput : props.renderInput}\r\n      />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default withStyles(styles, { withTheme: true })(ResponsiveAutocomplete);"],"names":["ResponsiveAutocomplete","props","_slotProps$paper","_slotProps$popper","isFocused","setIsFocused","useState","mobileFocusedSx","mobileBackgroundClassName","backButtonSx","backButtonClassName","renderInput","onFocus","onClose","slotProps","autocompleteProps","theme","useTheme","isMobile","useMediaQuery","breakpoints","down","isMobileFocused","useEffect","document","body","style","overflow","documentElement","position","width","handleClose","args","React","createElement","Box","className","undefined","sx","top","left","padding","background","palette","paper","zIndex","boxShadow","height","maxWidth","display","justifyContent","flexDirection","IconButton","alignSelf","marginBottom","onClick","ArrowBackIcon","Autocomplete","_extends","e","borderTop","grey","borderRadius","mt","S","popper","right","openOnFocus","blurOnSelect","params","inputElement","TextField","label","variant","cloneElement","autoFocus","withStyles","wrapper","focused","backButton","marginTop","spacing","withTheme","_autocompleteProps$cl","_autocompleteProps$cl2","classes","ArrowBack","trim"],"mappings":"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"}